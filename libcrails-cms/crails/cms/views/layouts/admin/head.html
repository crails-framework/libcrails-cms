#include "../../../models/settings.hpp"
#include "../../../lib/assets.hpp"
#include "../../../views/style.hpp"
#include <crails/icons.hpp>

const Crails::Cms::Style* @style = Crails::Cms::Style::singleton::get();
const Crails::Cms::Settings& @settings;

// END LINKING
<script>
  function crailscms_on_content_loaded(document) {<%= style->javascript_on_content_loaded() %>}
  document.addEventListener("DOMContentLoaded", function() { crailscms_on_content_loaded(document); });
</script>
<% if (settings.get_favicon().length()) do -%>
  <%= tag("link", {{"rel", "icon"},{"href", settings.get_favicon()}}) %>
<% end -%>

<% for (const std::string& stylesheet : style->admin_stylesheets()) do -%>
  <%= tag("link", {{"rel", "stylesheet"},{"href", stylesheet}}) %>
<% end -%>
<%= Crails::fonticon_cdn_header() %>

<%= tag("script", {{"src", CrailsCmsAssets::admin_js}}) %>
